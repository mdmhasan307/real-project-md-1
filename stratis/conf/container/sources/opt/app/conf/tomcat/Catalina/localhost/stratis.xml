<Context docBase="/opt/app/wars/stratis.war" swallowOutput="true">

  <!-- needs to point to where the stratis_context.properties file is placed -->
  <Parameter name="spring.config.additional-location" value="/opt/app/conf/tomcat/stratis_context.properties"/>

  <Resource name="jdbc/BIC"
            auth="SERVLET"
            factory="mil.stratis.common.db.EncryptedDataSourceFactory"
            type="oracle.ucp.jdbc.PoolDataSource"
            connectionFactoryClassName="oracle.jdbc.pool.OracleDataSource"
            url="${MLS2_ENVIRONMENT_DATABASE_CONNECTION}STRATBIC"
            user="stratis"
            password="${STRATIS_BIC_DB_PASSWORD}"
            connectionPoolName="BICPool"

            loginTimeout="${STRATIS_DB_LOGIN_TIMEOUT}"
            initialPoolSize="${STRATIS_DB_POOL_INITIAL_SIZE}"
            minPoolSize="${STRATIS_DB_POOL_MIN_SIZE}"
            maxPoolSize="${STRATIS_DB_POOL_MAX_SIZE}"
            inactiveConnectionTimeout="${STRATIS_DB_POOL_INACTIVE_TIMEOUT}"
            maxConnectionReuseTime="${STRATIS_DB_POOL_MAX_CX_REUSE_TIME}"
            validateConnectionOnBorrow="${STRATIS_DB_POOL_VALIDATE_CX_ON_BORROW}"
            maxStatements="${STRATIS_DB_POOL_MAX_STATEMENTS}"
            sqlForValidateConnection="select 1 from DUAL"
  />

  <Resource name="jdbc/MCBH"
            auth="SERVLET"
            factory="mil.stratis.common.db.EncryptedDataSourceFactory"
            type="oracle.ucp.jdbc.PoolDataSource"
            connectionFactoryClassName="oracle.jdbc.pool.OracleDataSource"
            url="${MLS2_ENVIRONMENT_DATABASE_CONNECTION}STRATMCBH"
            user="stratis"
            password="${STRATIS_MCBH_DB_PASSWORD}"
            connectionPoolName="MCBHPool"

            loginTimeout="${STRATIS_DB_LOGIN_TIMEOUT}"
            initialPoolSize="${STRATIS_DB_POOL_INITIAL_SIZE}"
            minPoolSize="${STRATIS_DB_POOL_MIN_SIZE}"
            maxPoolSize="${STRATIS_DB_POOL_MAX_SIZE}"
            inactiveConnectionTimeout="${STRATIS_DB_POOL_INACTIVE_TIMEOUT}"
            maxConnectionReuseTime="${STRATIS_DB_POOL_MAX_CX_REUSE_TIME}"
            validateConnectionOnBorrow="${STRATIS_DB_POOL_VALIDATE_CX_ON_BORROW}"
            maxStatements="${STRATIS_DB_POOL_MAX_STATEMENTS}"
            sqlForValidateConnection="select 1 from DUAL"
  />

  <Resource name="jdbc/OKI"
            auth="SERVLET"
            factory="mil.stratis.common.db.EncryptedDataSourceFactory"
            type="oracle.ucp.jdbc.PoolDataSource"
            connectionFactoryClassName="oracle.jdbc.pool.OracleDataSource"
            url="${MLS2_ENVIRONMENT_DATABASE_CONNECTION}STRATOKI"
            user="stratis"
            password="${STRATIS_OKI_DB_PASSWORD}"
            connectionPoolName="OKIPool"

            loginTimeout="${STRATIS_DB_LOGIN_TIMEOUT}"
            initialPoolSize="${STRATIS_DB_POOL_INITIAL_SIZE}"
            minPoolSize="${STRATIS_DB_POOL_MIN_SIZE}"
            maxPoolSize="${STRATIS_DB_POOL_MAX_SIZE}"
            inactiveConnectionTimeout="${STRATIS_DB_POOL_INACTIVE_TIMEOUT}"
            maxConnectionReuseTime="${STRATIS_DB_POOL_MAX_CX_REUSE_TIME}"
            validateConnectionOnBorrow="${STRATIS_DB_POOL_VALIDATE_CX_ON_BORROW}"
            maxStatements="${STRATIS_DB_POOL_MAX_STATEMENTS}"
            sqlForValidateConnection="select 1 from DUAL"
  />

  <Resource name="jdbc/ESD"
            auth="SERVLET"
            factory="mil.stratis.common.db.EncryptedDataSourceFactory"
            type="oracle.ucp.jdbc.PoolDataSource"
            connectionFactoryClassName="oracle.jdbc.pool.OracleDataSource"
            url="${MLS2_ENVIRONMENT_DATABASE_CONNECTION}STRATESD"
            user="stratis"
            password="${STRATIS_ESD_DB_PASSWORD}"
            connectionPoolName="ESDPool"

            loginTimeout="${STRATIS_DB_LOGIN_TIMEOUT}"
            initialPoolSize="${STRATIS_DB_POOL_INITIAL_SIZE}"
            minPoolSize="${STRATIS_DB_POOL_MIN_SIZE}"
            maxPoolSize="${STRATIS_DB_POOL_MAX_SIZE}"
            inactiveConnectionTimeout="${STRATIS_DB_POOL_INACTIVE_TIMEOUT}"
            maxConnectionReuseTime="${STRATIS_DB_POOL_MAX_CX_REUSE_TIME}"
            validateConnectionOnBorrow="${STRATIS_DB_POOL_VALIDATE_CX_ON_BORROW}"
            maxStatements="${STRATIS_DB_POOL_MAX_STATEMENTS}"
            sqlForValidateConnection="select 1 from DUAL"
  />

  <Resource name="jdbc/CLNC"
            auth="SERVLET"
            factory="mil.stratis.common.db.EncryptedDataSourceFactory"
            type="oracle.ucp.jdbc.PoolDataSource"
            connectionFactoryClassName="oracle.jdbc.pool.OracleDataSource"
            url="${MLS2_ENVIRONMENT_DATABASE_CONNECTION}STRATCLNC"
            user="stratis"
            password="${STRATIS_CLNC_DB_PASSWORD}"
            connectionPoolName="CLNCPool"

            loginTimeout="${STRATIS_DB_LOGIN_TIMEOUT}"
            initialPoolSize="${STRATIS_DB_POOL_INITIAL_SIZE}"
            minPoolSize="${STRATIS_DB_POOL_MIN_SIZE}"
            maxPoolSize="${STRATIS_DB_POOL_MAX_SIZE}"
            inactiveConnectionTimeout="${STRATIS_DB_POOL_INACTIVE_TIMEOUT}"
            maxConnectionReuseTime="${STRATIS_DB_POOL_MAX_CX_REUSE_TIME}"
            validateConnectionOnBorrow="${STRATIS_DB_POOL_VALIDATE_CX_ON_BORROW}"
            maxStatements="${STRATIS_DB_POOL_MAX_STATEMENTS}"
            sqlForValidateConnection="select 1 from DUAL"
  />

  <Resource name="jdbc/CPEN"
            auth="SERVLET"
            factory="mil.stratis.common.db.EncryptedDataSourceFactory"
            type="oracle.ucp.jdbc.PoolDataSource"
            connectionFactoryClassName="oracle.jdbc.pool.OracleDataSource"
            url="${MLS2_ENVIRONMENT_DATABASE_CONNECTION}STRATCPEN"
            user="stratis"
            password="${STRATIS_CPEN_DB_PASSWORD}"
            connectionPoolName="CPENPool"

            loginTimeout="${STRATIS_DB_LOGIN_TIMEOUT}"
            initialPoolSize="${STRATIS_DB_POOL_INITIAL_SIZE}"
            minPoolSize="${STRATIS_DB_POOL_MIN_SIZE}"
            maxPoolSize="${STRATIS_DB_POOL_MAX_SIZE}"
            inactiveConnectionTimeout="${STRATIS_DB_POOL_INACTIVE_TIMEOUT}"
            maxConnectionReuseTime="${STRATIS_DB_POOL_MAX_CX_REUSE_TIME}"
            validateConnectionOnBorrow="${STRATIS_DB_POOL_VALIDATE_CX_ON_BORROW}"
            maxStatements="${STRATIS_DB_POOL_MAX_STATEMENTS}"
            sqlForValidateConnection="select 1 from DUAL"
  />

</Context>